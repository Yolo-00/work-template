import{g as p,w as I}from"./index-CGeZwJjU.js";import{e as y,a3 as r,f as L,o as _,Q as R,h as m,D as b,v as h,a4 as f,r as k,a5 as U,j as l,a6 as Q,i as A,u as w,t as E,W as T}from"./vendor-BF-3gPpG.js";const W=["id"],$=y({__name:"index",props:{type:{default:"img"},size:{default:200},iconSize:{default:40},content:{},logo:{},options:{},errorLevel:{default:"H"}},setup(g,{expose:d}){const e=g,n=r(""),u=r("canvas"+p()),v=r(!0),i=L(()=>({width:e.size+"px",height:e.size+"px"})),x=async()=>{if(e.type==="canvas"){const o=await f.toCanvas(document.getElementById(u.value),e.content,{width:e.size,margin:2,errorCorrectionLevel:e.errorLevel,...e.options});if(e.logo){const a=o.getContext("2d"),t=e.iconSize+5,s=e.iconSize+5,C=(o.width-t)/2,S=(o.width-s)/2;a.fillStyle="#fff",a.fillRect(C,S,t,s);const B=(o.width-e.iconSize)/2,D=(o.width-e.iconSize)/2,c=new Image;c.crossOrigin="Anonymous",c.onload=()=>{a.drawImage(c,B,D,e.iconSize,e.iconSize),n.value=o.toDataURL()},c.src=e.logo}else n.value=o.toDataURL();v.value=!1}else{const o=await f.toDataURL(e.content,{width:e.size,margin:2,errorCorrectionLevel:e.errorLevel,...e.options});n.value=o,v.value=!1}},z=(o=p(),a=".png")=>{const t=document.createElement("a");t.style.display="none",t.download=`${o}${a}`,t.href=n.value,document.body.appendChild(t),t.click(),document.body.removeChild(t)};return _(()=>{x()}),d({downLoadQRCode:z}),(o,a)=>{const t=k("ImagePreview"),s=U("loading");return R((l(),m("div",{style:h(i.value),"overflow-hidden":"","rounded-lg":"",border:"","border-slate-300":"","border-solid":""},[o.type==="img"?(l(),b(t,{key:0,width:i.value.width,height:i.value.height,"image-url":n.value},null,8,["width","height","image-url"])):(l(),m("canvas",{key:1,style:h(i.value),id:u.value},null,12,W))],4)),[[s,v.value]])}}}),F=I($),N=y({__name:"index",setup(g){const{t:d}=Q(),e=r({xAxis:{type:"category",data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"]},yAxis:{type:"value"},series:[{data:[],type:"line"}]});return _(()=>{setTimeout(()=>{e.value.series[0].data=[250,130,254,218,135,147,660]},2e3)}),(n,u)=>(l(),m("div",null,[A(w(F),{content:"www.baidu.com"}),E("div",null,T(w(d)("home.home")),1)]))}});export{N as default};
