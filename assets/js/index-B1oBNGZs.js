import{b as z,L as b,g as U,h as o,u as e,i as D,M as T,O as q,P as B,Q as $,R as E,S as M,q as l,U as P,w as t,V as R,F as j,r as s,W as A,X as G,Y as S,Z as O}from"./vendor-C7EFnCic.js";import{u as Q}from"./useLanguage-CYYjU2cq.js";import{w as W,h as X,u as Y,_ as Z}from"./index-CNxpSwrv.js";const H={account:[{required:!0,message:"请输入账号",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},J=z({__name:"index",props:{imageUrl:{},width:{default:320},height:{default:160}},setup(p,{expose:m}){const u=b(!1);let i;const f=()=>{a(),i&&i()},a=()=>{u.value=!1};return m({handleClose:a,open:r=>{r&&(i=r),u.value=!0}}),(r,g)=>(D(),U("div",null,[o(e(T),{imgs:[r.imageUrl],"canvas-width":r.width,"canvas-height":r.height,show:u.value,onClose:a,onSuccess:f},null,8,["imgs","canvas-width","canvas-height","show"])]))}}),ee=W(J),oe=p=>X.post("/account/login",p),ne={fixed:"","right-10":"","top-10":"",flex:"~ items-center"},te={"mr-4":""},le={class:"cursor-pointer"},se={class:"login-bg",flex:"~ justify-center items-center",bg:"no-repeat cover center"},ae={"p-5":"","bg-white":"","dark:bg-black":"","rounded-lg":"","w-70":""},re={"font-semibold":"","text-xl":"","text-center":"","mb-4":""},ie=z({__name:"index",setup(p){const m=q(),{setLanguage:u}=Q(),{t:i}=B(),f=Y(),a=$(),k=E(a),r="work-template",g=b(),y=b(),c=M({account:"admin",password:"123456"}),h=_.debounce(()=>{var w;(w=y.value)==null||w.validate(n=>{n&&g.value.open(()=>{oe({loginName:c.account,password:c.password}).then(v=>{f.setToken(v.data.accessToken),m.replace("/")})})})},500);return(w,n)=>{const v=s("el-switch"),I=s("SvgIcon"),V=s("el-dropdown-item"),K=s("el-dropdown-menu"),F=s("el-dropdown"),C=s("el-input"),x=s("el-form-item"),L=s("el-button"),N=s("el-form");return D(),U(j,null,[l("div",ne,[l("div",te,[o(v,{width:45,modelValue:e(a),"onUpdate:modelValue":n[0]||(n[0]=d=>P(a)?a.value=d:null),"inline-prompt":"","active-icon":e(A),"inactive-icon":e(G),onChange:e(k)},null,8,["modelValue","active-icon","inactive-icon","onChange"])]),l("div",null,[o(F,null,{dropdown:t(()=>[o(K,null,{default:t(()=>[o(V,null,{default:t(()=>[l("div",{class:"px-4",onClick:n[1]||(n[1]=d=>e(u)("en"))},"English")]),_:1}),o(V,{divided:""},{default:t(()=>[l("div",{class:"px-4",onClick:n[2]||(n[2]=d=>e(u)("zh"))},"简体中文")]),_:1})]),_:1})]),default:t(()=>[l("div",le,[o(I,{color:"#333","icon-style":{width:"20px",height:"20px"},name:"language"})])]),_:1})])]),l("div",se,[l("div",ae,[l("div",re,R(e(r)),1),o(N,{ref_key:"formRef",ref:y,model:c,rules:e(H)},{default:t(()=>[o(x,{prop:"account"},{default:t(()=>[o(C,{modelValue:c.account,"onUpdate:modelValue":n[3]||(n[3]=d=>c.account=d),"prefix-icon":"UserFilled",clearable:"",placeholder:e(i)("login.account"),onKeyup:S(e(h),["enter"])},null,8,["modelValue","placeholder","onKeyup"])]),_:1}),o(x,{prop:"password"},{default:t(()=>[o(C,{modelValue:c.password,"onUpdate:modelValue":n[4]||(n[4]=d=>c.password=d),"prefix-icon":"lock",clearable:"",placeholder:e(i)("login.password"),"show-password":"",onKeyup:S(e(h),["enter"])},null,8,["modelValue","placeholder","onKeyup"])]),_:1}),o(x,null,{default:t(()=>[o(L,{type:"primary","w-full":"",onClick:e(h)},{default:t(()=>[O(R(e(i)("login.login")),1)]),_:1},8,["onClick"])]),_:1})]),_:1},8,["model","rules"])])]),o(e(ee),{ref_key:"puzzleVerifyRef",ref:g},null,512)],64)}}}),pe=Z(ie,[["__scopeId","data-v-81369b93"]]);export{pe as default};
